{"version":3,"sources":["webpack:///src/pages/weekport/weekReview.vue","webpack:///./src/pages/weekport/weekReview.vue?5226","webpack:///./src/pages/weekport/weekReview.vue"],"names":["weekReview","name","props","data","list","refreshing","loading","finished","page","pageSize","computed","beforeMount","mounted","methods","gotoDateils","item","this","$router","push","query","id","weekID","employeeName","isLeader","empStatus","status","empWeekDate","weekDate","fromTime","val","slice","dateChanges","week","Object","util","onRefresh","onLoad","_this","$HttpApi","post","then","res","rescodes","code","length","parseInt","concat","$notify","message","type","catch","err","console","log","watch","weekport_weekReview","render","_vm","_h","$createElement","_c","_self","staticStyle","min-height","on","refresh","model","value","callback","$$v","expression","attrs","finished-text","offset","load","staticClass","_v","_e","_l","index","key","click","$event","_s","src","__webpack_require__","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.12771c56e6b97a44f6a2.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-pull-refresh\r\n      v-model=\"refreshing\"\r\n      @refresh=\"onRefresh\"\r\n      style=\"min-height: 88vh\"\r\n    >\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        offset=\"30\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <div class=\"nodata\" v-if=\"list.length < 1\">暂无数据~</div>\r\n        <div class=\"history\">\r\n          <!-- <li>\r\n            <div class=\"titles\">111112020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors1 gdcss\">待上报</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li> -->\r\n          <li\r\n            v-for=\"(item, index) in list\"\r\n            :key=\"index\"\r\n            @click=\"gotoDateils(item)\"\r\n          >\r\n            <div class=\"titles\">\r\n              {{ item.employeeName }} {{ dateChanges(item.weekDate) }}\r\n            </div>\r\n            <div class=\"rihtdiv\">\r\n              <div class=\"mv_colors1 gdcss\" v-if=\"item.status == '待批复'\">\r\n                {{ item.status }}\r\n              </div>\r\n              <div class=\"mv_colors5 gdcss\" v-if=\"item.status == '已延迟'\">\r\n                {{ item.status }}\r\n              </div>\r\n              <div class=\"mv_colors4 gdcss\" v-if=\"item.status == '已逾期'\">\r\n                {{ item.status }}\r\n              </div>\r\n              <div class=\"mv_colors3 gdcss\" v-if=\"item.status == '已批复'\">\r\n                {{ item.status }}\r\n              </div>\r\n              <img src=\"@/assets/img/right_jt.png\" />\r\n            </div>\r\n          </li>\r\n          <!-- <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors2 gdcss\">已上报</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors3 gdcss\">已批复</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors4 gdcss\">已逾期</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n         <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors5 gdcss\">已延迟</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li> -->\r\n        </div>\r\n        <!-- <van-cell v-for=\"item in list\" :key=\"item\" :title=\"item\" /> -->\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getWeekDay, getWeek, getNewData } from \"../../assets/js/util\";\r\nexport default {\r\n  name: \"history\",\r\n  props: [\"\"],\r\n  data() {\r\n    return {\r\n      list: [],\r\n      refreshing: false,\r\n      loading: false,\r\n      finished: false,\r\n      page: 1,\r\n      pageSize: 20,\r\n    };\r\n  },\r\n  computed: {},\r\n\r\n  beforeMount() {},\r\n\r\n  mounted() {},\r\n\r\n  methods: {\r\n    gotoDateils(item) {\r\n      this.$router.push({\r\n        name: \"weekCheck\",\r\n        query: {\r\n          id: item.weekID,\r\n          name: item.employeeName,\r\n          isLeader: 1,\r\n          empStatus: item.status,\r\n          empWeekDate: item.weekDate,\r\n        },\r\n      });\r\n    },\r\n    fromTime(val) {\r\n      if (val) {\r\n        return val.slice(0, 10);\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    dateChanges(val) {\r\n      if (val) {\r\n        let week = val.slice(0, 10);\r\n        let weekend = getNewData(week, 6);\r\n        return `${week} 至 ${weekend}`;\r\n      } else {\r\n        return val;\r\n      }\r\n    },\r\n    onRefresh() {\r\n      this.finished = false;\r\n      this.loading = true;\r\n      this.page = 1;\r\n      this.onLoad();\r\n    },\r\n    onLoad() {\r\n      if (this.refreshing) {\r\n        this.list = [];\r\n        this.refreshing = false;\r\n      }\r\n\r\n      this.$HttpApi\r\n        .post(\"/api/WeekReview/leader/list\", {\r\n          page: this.page,\r\n          pageSize: this.pageSize,\r\n        })\r\n        .then((res) => {\r\n          let rescodes = res.data;\r\n          if (rescodes.code == 0) {\r\n            if (rescodes.data.length == 0) {\r\n              this.finished = true;\r\n            } else {\r\n              this.page = parseInt(this.page) + 1;\r\n              this.loading = false;\r\n              this.list = this.list.concat(rescodes.data);\r\n            }\r\n          } else {\r\n            this.$notify({\r\n              message: rescodes.message,\r\n              type: \"warning\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  watch: {},\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n.history {\r\n  background-color: #fff;\r\n  border-radius: 20px;\r\n  padding-left: 37px;\r\n}\r\n.history li {\r\n  border-bottom: 1px solid #e2e2e2;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  min-height: 98px;\r\n  align-items: center;\r\n  padding-right: 40px;\r\n}\r\n.history li:last-child {\r\n  border-bottom: none;\r\n}\r\n.rihtdiv {\r\n  display: flex;\r\n}\r\n.rihtdiv img {\r\n  width: 14px;\r\n  height: 28px;\r\n}\r\n.gdcss {\r\n  display: inline-block;\r\n  padding: 6px 18px;\r\n  border-radius: 16px;\r\n  color: #fff;\r\n  font-size: 20px;\r\n  margin-right: 20px;\r\n}\r\n.mv_colors1 {\r\n  background-color: #f99e9e;\r\n}\r\n.mv_colors2 {\r\n  background-color: #79d47b;\r\n}\r\n.mv_colors3 {\r\n  background-color: #6497b2;\r\n}\r\n.mv_colors4 {\r\n  background-color: #cdcdcd;\r\n}\r\n.mv_colors5 {\r\n  background-color: #ff8a56;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/weekport/weekReview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-pull-refresh',{staticStyle:{\"min-height\":\"88vh\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.refreshing),callback:function ($$v) {_vm.refreshing=$$v},expression:\"refreshing\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"offset\":\"30\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[(_vm.list.length < 1)?_c('div',{staticClass:\"nodata\"},[_vm._v(\"暂无数据~\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"history\"},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.gotoDateils(item)}}},[_c('div',{staticClass:\"titles\"},[_vm._v(\"\\n            \"+_vm._s(item.employeeName)+\" \"+_vm._s(_vm.dateChanges(item.weekDate))+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"rihtdiv\"},[(item.status == '待批复')?_c('div',{staticClass:\"mv_colors1 gdcss\"},[_vm._v(\"\\n              \"+_vm._s(item.status)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(item.status == '已延迟')?_c('div',{staticClass:\"mv_colors5 gdcss\"},[_vm._v(\"\\n              \"+_vm._s(item.status)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(item.status == '已逾期')?_c('div',{staticClass:\"mv_colors4 gdcss\"},[_vm._v(\"\\n              \"+_vm._s(item.status)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(item.status == '已批复')?_c('div',{staticClass:\"mv_colors3 gdcss\"},[_vm._v(\"\\n              \"+_vm._s(item.status)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/right_jt.png\")}})])])}),0)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3121ca37\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/weekport/weekReview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3121ca37\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./weekReview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./weekReview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./weekReview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3121ca37\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./weekReview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3121ca37\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/weekport/weekReview.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}