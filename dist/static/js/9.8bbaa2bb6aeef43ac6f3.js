webpackJsonp([9],{O7xt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"feedbackfillin",props:[""],data:function(){return{showIcon:!1,tiltes:"",message:"",showPicker:!1,params:"",isReview:!1,istype:"",columns:[],valueCol:""}},computed:{},beforeMount:function(){},mounted:function(){this.getTypes()},methods:{getTypes:function(){var t=this;this.$HttpApi.get("/api/SuggestionCategory/list").then(function(e){0==e.code?t.columns=e.data:t.$notify({message:e.data.message,type:"warning"})}).catch(function(t){console.log(t)})},submitfeedback:function(){var t=this;return""==this.tiltes?(this.$notify({message:"请填写标题",type:"warning"}),!1):""==this.message?(this.$notify({message:"请填写意见内容",type:"warning"}),!1):""==this.istype?(this.$notify({message:"请选择意见类型",type:"warning"}),!1):void this.$HttpApi.post("/api/Suggestion/submit",{title:this.tiltes,categoryID:this.valueCol.value,content:this.message}).then(function(e){var s=e.data;0==s.code?(t.$toast.success("提交成功!"),setTimeout(function(){t.$router.push("/layout/myfeedback")},2500)):t.$notify({message:s.message,type:"warning"})}).catch(function(t){console.log(t)})},handlPicker:function(t){this.showPicker=t},onConfirm:function(t){this.valueCol=t,this.istype=t.name,this.showPicker=!1}},watch:{}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scroll_views"},[i("div",{staticClass:"one boxfill"},[t.isReview?t._e():i("div",{staticClass:"zongjie newzongjie"},[i("span",{staticClass:"colora tiltes"},[t._v("意见类别")]),t._v(" "),i("div",{staticClass:"right_type",on:{click:function(e){return t.handlPicker(!0)}}},[""==t.istype?i("span",{staticClass:"clasrt"},[t._v("请选择类型")]):i("span",[t._v(t._s(t.istype))]),t._v(" "),i("img",{staticClass:"right_jt",attrs:{src:s("nFQE"),alt:""}})])])]),t._v(" "),i("div",{staticClass:"one boxfill"},[t._m(0),t._v(" "),i("div",{staticClass:"text_aere",class:t.tiltes?"":"text_aere_img"},[i("van-field",{staticClass:"input_file",attrs:{readonly:t.isReview,rows:"1",autosize:"",type:"textarea",placeholder:"请填写意见标题"},model:{value:t.tiltes,callback:function(e){t.tiltes=e},expression:"tiltes"}})],1)]),t._v(" "),i("div",{staticClass:"one boxfill"},[t._m(1),t._v(" "),i("div",{staticClass:"text_aere",class:t.message?"":"text_aere_img"},[i("van-field",{staticClass:"input_file",attrs:{readonly:t.isReview,rows:"1",autosize:"",type:"textarea",placeholder:"请填写意见内容"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)])]),t._v(" "),t.isReview?t._e():i("div",{staticClass:"but_box"},[i("van-button",{staticClass:"but_action",attrs:{round:"",type:"primary",color:"#005C8D"},on:{click:t.submitfeedback}},[t._v("提交意见")])],1),t._v(" "),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"value-key":"name"},on:{cancel:function(e){return t.handlPicker(!1)},confirm:t.onConfirm}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zongjie"},[e("span",{staticClass:"colorb tiltes"},[this._v("意见标题")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zongjie"},[e("span",{staticClass:"color2 tiltes"},[this._v("意见内容")])])}]};var n=s("VU/8")(i,a,!1,function(t){s("Xtnf")},"data-v-70d95b3b",null);e.default=n.exports},Xtnf:function(t,e){}});
//# sourceMappingURL=9.8bbaa2bb6aeef43ac6f3.js.map