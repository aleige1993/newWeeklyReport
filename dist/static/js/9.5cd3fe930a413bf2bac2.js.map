{"version":3,"sources":["webpack:///src/pages/opinion.vue","webpack:///./src/pages/opinion.vue?8d71","webpack:///./src/pages/opinion.vue"],"names":["opinion","name","props","data","totalPage","currentPage","query","employeeName","tableData","columnData","label","prop","minWidth","formatter","row","cell","val","substr","computed","created","this","onSOSO","methods","getList","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","that","res","wrap","_context","prev","next","page","pageSize","$config","PAGE_SIZE","$http","post","sent","code","rows","console","info","stop","switchChanged","scope","_this2","_callee2","status","_context2","get","id","getStatus","exportFn","_this3","_callee3","_context3","postDownload","pages_opinion","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","size","on","click","$event","_v","staticStyle","width","placeholder","model","value","callback","$$v","$set","expression","header-cell-style","background","border","_l","item","index","_b","key","scopedSlots","_u","fn","active-text","inactive-text","change","layout","current-page","page-count","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.5cd3fe930a413bf2bac2.js","sourcesContent":["<template>\r\n  <div class=\"waige\">\r\n    <el-row>\r\n      <el-col>\r\n        <div class=\"rightflex marigbot\">\r\n          <div>\r\n            <el-button type=\"primary\" @click=\"exportFn()\" size=\"small\"\r\n              ><i class=\"el-icon-download\"></i>导出意见</el-button\r\n            >\r\n          </div>\r\n          <div>\r\n            <el-input\r\n            v-model=\"query.employeeName\"\r\n            style=\"width: 200px\"\r\n            size=\"small\"\r\n            placeholder=\"输入姓名检索\"\r\n          ></el-input>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"onSOSO\"\r\n            >搜索</el-button\r\n          >\r\n          </div>\r\n          \r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"biaoge\">\r\n      <el-row>\r\n        <el-col>\r\n          <el-table :header-cell-style=\"{ background: '#fafafa' }\" :data=\"tableData\" size=\"small\" border style=\"width: 100%\">\r\n               \r\n            <el-table-column\r\n              v-for=\"(item, index) in columnData\"\r\n              :key=\"index\"\r\n              v-bind=\"item\"\r\n            >\r\n              \r\n            </el-table-column>\r\n          <el-table-column v-bind='{label: \"操作\",minWidth: \"70%\",prop: \"opention\"}'>\r\n<template slot-scope=\"scope\">\r\n                <div>\r\n                 <el-switch\r\n                    :value=\"getStatus(scope)\"\r\n                    @change=\"switchChanged(scope)\"\r\n                    active-text=\"显示\"\r\n                    inactive-text=\"隐藏\">\r\n                    </el-switch>\r\n                </div>\r\n              </template>\r\n          </el-table-column>\r\n          </el-table>\r\n        </el-col>\r\n      </el-row>\r\n        \r\n          <div class=\"pagination\">\r\n            <el-pagination background layout=\"prev, pager, next\" @current-change=\"getList\" :current-page.sync=\"currentPage\" :page-count=\"totalPage\">\r\n          </el-pagination>\r\n          </div> \r\n    </div> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"opinion\",\r\n  props: [\"\"],\r\n  data() {\r\n    return {\r\n      totalPage:0,\r\n      currentPage:1,\r\n      query:{\r\n          employeeName:''\r\n      },\r\n      tableData: [],\r\n      columnData: [\r\n        {\r\n          label: \"标题\",\r\n          prop: \"title\",\r\n          minWidth: \"50%\",\r\n        },\r\n        {\r\n          label: \"发表人\",\r\n          prop: \"employeeName\",\r\n          minWidth: \"30%\",\r\n        },\r\n        {\r\n          label: \"分类\",\r\n          prop: \"categoryName\",\r\n          minWidth: \"40%\",\r\n        },\r\n        {\r\n          label: \"电话\",\r\n          prop: \"mobilePhone\",\r\n          minWidth: \"30%\",\r\n        },\r\n         {\r\n          label: \"发表时间\",\r\n          prop: \"createTime\",\r\n          minWidth: \"30%\",\r\n          formatter:function(row,cell,val){\r\n            return val.substr(0,10);\r\n          }\r\n        },\r\n         {\r\n          label: \"意见内容\",\r\n          prop: \"content\",\r\n        }\r\n      ],\r\n    };\r\n  },\r\n  computed: {},\r\n\r\n  created() {this.onSOSO();},\r\n\r\n  methods: {\r\n    onSOSO() {this.currentPage=1;\r\n        this.getList();},\r\nasync getList(){\r\n        let that=this;\r\n        let data={\r\n            page:that.currentPage,\r\n            pageSize:that.$config.PAGE_SIZE,\r\n            query:that.query\r\n        };\r\n        var res = await that.$http.post('/api/Suggestion/manager/list',data);\r\n        if (res.code =='0') {\r\n            that.tableData=res.data.rows;\r\n            if(res.data.totalPage){\r\n                that.totalPage=res.data.totalPage;\r\n                console.info('total',that.totalPage);\r\n            }\r\n        }\r\n        },\r\n        async switchChanged(scope){\r\n          var status=scope.row.status=='Y'?'N':'Y';\r\n          var that=this;\r\n          var res = await that.$http.get(`/api/Suggestion/manager/${scope.row.id}`,{status:status});\r\n          if(res.code =='0'){\r\nscope.row.status = status;\r\n          }\r\n          \r\n        },\r\n        getStatus(scope){\r\n          return scope.row.status == 'Y';\r\n        },\r\n       async exportFn(){\r\n          var that=this;\r\n          var res = await that.$http.postDownload(\"/api/Suggestion/manager/export\",that.query)\r\n        }\r\n  },\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n.fors{\r\n  margin-top:20px;\r\n}\r\n.tongyi{\r\n/* padding: 30px; */\r\nwidth: 100%;\r\n}\r\n.conte{\r\n  flex: 1;\r\n}\r\n.tonger span{\r\n  display: inline-block;\r\n  width:25px;\r\n  height: 25px;\r\n  border-radius:100%;\r\n  background-color: #f2f2f2;\r\n  text-align: center;\r\n  line-height: 25px;\r\n  margin-right: 6px;\r\n}\r\n.tonger{\r\n  display: flex;\r\n}\r\n.waige {\r\n  padding: 40px;\r\n}\r\n.marigtop{\r\n  margin-top: 20px;\r\n}\r\n.marigbot{\r\n  margin-bottom: 20px;\r\n}\r\n.rightflex{\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.pagination{\r\n  text-align: right;\r\n  margin-top: 20px;\r\n}\r\n.modebitsubt{\r\n  margin-top: 20px;\r\n  text-align: right;\r\n  padding-right: 70px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/opinion.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"waige\"},[_c('el-row',[_c('el-col',[_c('div',{staticClass:\"rightflex marigbot\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.exportFn()}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\"导出意见\")])],1),_vm._v(\" \"),_c('div',[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"small\",\"placeholder\":\"输入姓名检索\"},model:{value:(_vm.query.employeeName),callback:function ($$v) {_vm.$set(_vm.query, \"employeeName\", $$v)},expression:\"query.employeeName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSOSO}},[_vm._v(\"搜索\")])],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"biaoge\"},[_c('el-row',[_c('el-col',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"header-cell-style\":{ background: '#fafafa' },\"data\":_vm.tableData,\"size\":\"small\",\"border\":\"\"}},[_vm._l((_vm.columnData),function(item,index){return _c('el-table-column',_vm._b({key:index},'el-table-column',item,false))}),_vm._v(\" \"),_c('el-table-column',_vm._b({scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-switch',{attrs:{\"value\":_vm.getStatus(scope),\"active-text\":\"显示\",\"inactive-text\":\"隐藏\"},on:{\"change\":function($event){return _vm.switchChanged(scope)}}})],1)]}}])},'el-table-column',{label: \"操作\",minWidth: \"70%\",prop: \"opention\"},false))],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.currentPage,\"page-count\":_vm.totalPage},on:{\"current-change\":_vm.getList,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d92cb34\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/opinion.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d92cb34\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./opinion.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./opinion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./opinion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d92cb34\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./opinion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d92cb34\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/opinion.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}