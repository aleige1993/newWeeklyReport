{"version":3,"sources":["webpack:///src/pages/weekport/historyPort.vue","webpack:///./src/pages/weekport/historyPort.vue?befa","webpack:///./src/pages/weekport/historyPort.vue"],"names":["historyPort","name","props","data","list","refreshing","loading","finished","computed","beforeMount","mounted","this","getUserportlist","methods","gotoUpdate","id","$router","push","path","query","isID","gotoDateils","item","_this","$toast","message","forbidClick","loadingType","status","$HttpApi","get","weekID","then","res","code","addWeekReport","$store","state","detail","isWeekFill","weekPlans","weekNextPlans","weekMend","setTimeout","clear","$notify","type","catch","err","console","log","isLeader","empStatus","empWeekDate","weekDate","_this2","post","rescodes","dateChanges","val","week","slice","Object","util","watch","weekport_historyPort","render","_vm","_h","$createElement","_c","_self","length","staticClass","_v","_e","_l","index","key","on","click","$event","_s","attrs","src","__webpack_require__","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.174b07d98e7a87b0660c.js","sourcesContent":["<template>  \r\n    <div>\r\n         <!-- <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\" style=\"min-height:88vh;\"> -->\r\n         \r\n        <!-- <van-list\r\n            v-model:loading=\"loading\"\r\n            :finished=\"finished\" \r\n            finished-text=\"没有更多了\"\r\n            offset=\"30\"\r\n            @load=\"onLoad\"\r\n        > -->\r\n   <div class=\"nothis\" v-if=\"list.length<1\">\r\n            暂无数据~\r\n            </div>\r\n          <div class=\"history\">\r\n         <li v-for=\"(item,index) in  list\" :key=\"index\" @click=\"gotoDateils(item)\">\r\n            <div class=\"titles\">{{dateChanges(item.weekDate)}}</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors1 gdcss\" v-if=\"item.status == '待上报'\">{{item.status}}</div>\r\n                  <div class=\"mv_colors2 gdcss\" v-if=\"item.status == '已上报'\">{{item.status}}</div>\r\n                 <div class=\"mv_colors5 gdcss\" v-if=\"item.status == '延迟上报'\">{{item.status}}</div>\r\n                   <div class=\"mv_colors4 gdcss\" v-if=\"item.status == '已逾期'\">{{item.status}}</div>\r\n                    <div class=\"mv_colors3 gdcss\" v-if=\"item.status == '已批复'\">{{item.status}}</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n       \r\n        <!-- <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors2 gdcss\">已上报</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors3 gdcss\">已批复</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class=\"titles\">2020 ( 04.25-04.30 )</div>\r\n            <div class=\"rihtdiv\">\r\n                <div class=\"mv_colors4 gdcss\">已逾期</div>\r\n                <img src=\"@/assets/img/right_jt.png\">\r\n            </div>\r\n        </li> -->\r\n          </div>\r\n            <!-- <van-cell v-for=\"item in list\" :key=\"item\" :title=\"item\" /> -->\r\n        <!-- </van-list> -->\r\n        <!-- </van-pull-refresh> -->\r\n    </div>\r\n      \r\n</template>\r\n\r\n<script>\r\nimport {getWeekDay, getWeek,getNewData} from '../../assets/js/util'\r\n  export default {\r\n    name:'history',\r\n    props:[''],\r\n    data () {\r\n      return {\r\n  list:[],\r\n           refreshing:false,\r\n           loading:false,\r\n           finished:false,\r\n      };\r\n    }, \r\n    computed: {},\r\n\r\n    beforeMount() {},\r\n\r\n    mounted() {\r\n         this.getUserportlist()\r\n    },\r\n\r\n    methods: {\r\n         gotoUpdate(id, name){\r\n         this.$router.push({path:'/layout/weekfill', query:{\r\n                isID:id\r\n             }})\r\n     },\r\n      gotoDateils(item){\r\n         this.$toast.loading({\r\n            message: '加载中...',\r\n            forbidClick: true,\r\n            loadingType: 'spinner',\r\n            });\r\n         if(item.status == '待上报'){ \r\n              this.$HttpApi.get(`/api/WeekReview/leader/${item.weekID}`).then((res)=>{\r\n                 if(res.code == 0){\r\n                   let addWeekReport = this.$store.state.addWeekReport\r\n                   if(res.data.detail){\r\n                    if(res.data.detail.id){ \r\n                        this.$store.state.isID = res.data.detail.id\r\n                            this.$store.state.isWeekFill = res.data.detail.status\r\n                    } \r\n                   }\r\n                    if(res.data.detail == null){\r\n                        addWeekReport.weekPlans = [],\r\n                        addWeekReport.weekNextPlans = [],\r\n                        addWeekReport.weekMend =[]\r\n                    }else{\r\n                        addWeekReport.weekPlans = res.data.detail.weekPlans?res.data.detail.weekPlans:[],\r\n                        addWeekReport.weekNextPlans = res.data.detail.weekNextPlans?res.data.detail.weekNextPlans:[],\r\n                        addWeekReport.weekMend = res.data.detail.weekMend?res.data.detail.weekMend:[]\r\n                    }\r\n\r\n                    setTimeout(()=>{\r\n                        this.$toast.clear()\r\n                        this.$router.push({path:'/layout/weekfill', query:{\r\n                            isID:item.weekID\r\n                        }})\r\n                    },2000)\r\n                 }else{\r\n                      this.$notify({\r\n                        message: res.message,\r\n                        type: 'warning',\r\n                    })\r\n                    this.$toast.clear()\r\n                 }\r\n                 \r\n            }).catch((err)=>{\r\n                console.log(err)\r\n            })  \r\n         }else{\r\n              this.$router.push({path:'/layout/weekCheck',query:{\r\n             id:item.weekID,\r\n             name:item.name,\r\n             isLeader:0,\r\n             empStatus:item.status,\r\n             empWeekDate:item.weekDate\r\n         } })\r\n         }\r\n        \r\n     },\r\n        getUserportlist(){\r\n            this.$HttpApi.post('/api/WeekReview/list',{}).then((res)=>{\r\n                let rescodes =  res.data\r\n                if(rescodes.code == 0){\r\n                    this.list = rescodes.data\r\n                }else{\r\n                    this.$notify({\r\n                        message: rescodes.message,\r\n                        type: 'warning',\r\n                    })\r\n                }\r\n            }).catch((err)=>{\r\n                console.log(err)\r\n            })\r\n       },\r\n         dateChanges(val){\r\n            if(val){\r\n            let week = val.slice(0,10)\r\n            let weekend = getNewData(week, 6)\r\n            return `${week} 至 ${weekend}`\r\n\r\n            }else{\r\n                return val\r\n            }\r\n        }\r\n    },\r\n\r\n    watch: {} \r\n  }\r\n\r\n</script>\r\n<style lang='css' scoped>\r\n    .history{\r\n        background-color: #fff;\r\n        border-radius:20px;\r\n        padding-left: 37px;\r\n    }\r\n    .history li{\r\n        border-bottom:1px solid #E2E2E2;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        min-height: 98px;\r\n        align-items: center;\r\n        padding-right: 40px;\r\n    }\r\n    .history li:last-child{\r\n        border-bottom:none;\r\n    }\r\n    .rihtdiv{\r\n        display: flex;\r\n    }\r\n    .rihtdiv img{\r\n        width: 14px;\r\n        height: 28px;\r\n    }\r\n    .gdcss{\r\n        display: inline-block;\r\n        padding:6px 18px;\r\n        border-radius: 16px;\r\n        color: #fff;\r\n        font-size: 20px;\r\n        margin-right: 20px;\r\n    }\r\n    .mv_colors1{\r\n        background-color: #F99E9E;\r\n    }\r\n     .mv_colors2{\r\n        background-color: #79D47B;\r\n    }\r\n     .mv_colors3{\r\n        background-color: #6497B2;\r\n    }\r\n     .mv_colors4{\r\n        background-color: #CDCDCD;\r\n    }\r\n     .mv_colors5{\r\n        background-color: #FF8A56;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/weekport/historyPort.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.list.length<1)?_c('div',{staticClass:\"nothis\"},[_vm._v(\"\\n         暂无数据~\\n         \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"history\"},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.gotoDateils(item)}}},[_c('div',{staticClass:\"titles\"},[_vm._v(_vm._s(_vm.dateChanges(item.weekDate)))]),_vm._v(\" \"),_c('div',{staticClass:\"rihtdiv\"},[(item.status == '待上报')?_c('div',{staticClass:\"mv_colors1 gdcss\"},[_vm._v(_vm._s(item.status))]):_vm._e(),_vm._v(\" \"),(item.status == '已上报')?_c('div',{staticClass:\"mv_colors2 gdcss\"},[_vm._v(_vm._s(item.status))]):_vm._e(),_vm._v(\" \"),(item.status == '延迟上报')?_c('div',{staticClass:\"mv_colors5 gdcss\"},[_vm._v(_vm._s(item.status))]):_vm._e(),_vm._v(\" \"),(item.status == '已逾期')?_c('div',{staticClass:\"mv_colors4 gdcss\"},[_vm._v(_vm._s(item.status))]):_vm._e(),_vm._v(\" \"),(item.status == '已批复')?_c('div',{staticClass:\"mv_colors3 gdcss\"},[_vm._v(_vm._s(item.status))]):_vm._e(),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/right_jt.png\")}})])])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-391e7596\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/weekport/historyPort.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-391e7596\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./historyPort.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./historyPort.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./historyPort.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-391e7596\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./historyPort.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-391e7596\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/weekport/historyPort.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}