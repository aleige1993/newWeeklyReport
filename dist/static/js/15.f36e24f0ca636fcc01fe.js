webpackJsonp([15],{AFlm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("LOkV"),i={name:"history",props:[""],data:function(){return{list:[],refreshing:!1,loading:!1,finished:!1}},computed:{},beforeMount:function(){},mounted:function(){this.getUserportlist()},methods:{gotoUpdate:function(t,e){this.$router.push({path:"/layout/weekfill",query:{isID:t}})},gotoDateils:function(t){var e=this;this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),"待上报"==t.status?this.$HttpApi.get("/api/WeekReview/leader/"+t.weekID).then(function(s){if(0==s.code){var a=e.$store.state.addWeekReport;s.data.detail&&s.data.detail.id&&(e.$store.state.isID=s.data.detail.id,e.$store.state.isWeekFill=s.data.detail.status),null==s.data.detail?(a.weekPlans=[],a.weekNextPlans=[],a.weekMend=[]):(a.weekPlans=s.data.detail.weekPlans?s.data.detail.weekPlans:[],a.weekNextPlans=s.data.detail.weekNextPlans?s.data.detail.weekNextPlans:[],a.weekMend=s.data.detail.weekMend?s.data.detail.weekMend:[]),setTimeout(function(){e.$toast.clear(),e.$router.push({path:"/layout/weekfill",query:{isID:t.weekID}})},2e3)}else e.$notify({message:s.message,type:"danger"}),e.$toast.clear()}).catch(function(t){console.log(t)}):this.$router.push({path:"/layout/weekCheck",query:{id:t.weekID,name:t.name,isLeader:0,empStatus:t.status,empWeekDate:t.weekDate}})},getUserportlist:function(){var t=this;this.$HttpApi.post("/api/WeekReview/list",{}).then(function(e){var s=e.data;0==s.code?t.list=s.data:t.$notify({message:s.message,type:"danger"})}).catch(function(t){console.log(t)})},dateChanges:function(t){if(t){var e=t.slice(0,10);return e+" 至 "+Object(a.b)(e,6)}return t}},watch:{}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.list.length<1?a("div",{staticClass:"nothis"},[t._v("\n         暂无数据~\n         ")]):t._e(),t._v(" "),a("div",{staticClass:"history"},t._l(t.list,function(e,i){return a("li",{key:i,on:{click:function(s){return t.gotoDateils(e)}}},[a("div",{staticClass:"titles"},[t._v(t._s(t.dateChanges(e.weekDate)))]),t._v(" "),a("div",{staticClass:"rihtdiv"},["待上报"==e.status?a("div",{staticClass:"mv_colors1 gdcss"},[t._v(t._s(e.status))]):t._e(),t._v(" "),"已上报"==e.status?a("div",{staticClass:"mv_colors2 gdcss"},[t._v(t._s(e.status))]):t._e(),t._v(" "),"延迟上报"==e.status?a("div",{staticClass:"mv_colors5 gdcss"},[t._v(t._s(e.status))]):t._e(),t._v(" "),"已逾期"==e.status?a("div",{staticClass:"mv_colors4 gdcss"},[t._v(t._s(e.status))]):t._e(),t._v(" "),"已批复"==e.status?a("div",{staticClass:"mv_colors3 gdcss"},[t._v(t._s(e.status))]):t._e(),t._v(" "),a("img",{attrs:{src:s("nFQE")}})])])}),0)])},staticRenderFns:[]};var l=s("VU/8")(i,n,!1,function(t){s("sGXD")},"data-v-12cd7208",null);e.default=l.exports},sGXD:function(t,e){}});
//# sourceMappingURL=15.f36e24f0ca636fcc01fe.js.map